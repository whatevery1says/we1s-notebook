#Scrub
The `Scrub` directory contains scripts and configuration files for preparing corpus texts form analysis. The latest consolidated versions are in the main folder. Working versions generated by individual users but not yet merged with the main project files are in the `Working` folder.

As of version 1.3, `scrub.py` replaces all curly quotation marks (single and double) with straight quotation marks. It also removes most diacritics. These features are at present non-configurable, although they can be turned off easily by commenting out the relevant lines in `scrub.py`.

##Usage
Scrubbing options are designated by editing the `config.py` file, which should be done first. Scrubbing is performed with the command:

```
python scrub.py
```

##Configuration
Begin by configuring the input and output folders. You may also designate the location of a stop words file. By default, `scrub.py` will save a log file of the scrubbing options. For example:

```python
input_file_path = "C:/Users/USERNAME/workspace/1/articles"
output_file_path = "C:/Users/USERNAME/workspace/1/articles-scrubbed"
stopwords_location = "C:/Users/USERNAME/workspace/1/stopwords.txt"
save_log = True
```

The rest of the file is a Python dictionary formatted in strict json format for consistency. Each processing section is is indicated in a Python comment preceded by `#`. The format for each processing instruction is as follows:

```python
{
"Comment": "Describe the purpose of the processing instruction.",
"values": [
			{
			 "active": True,
			 "find": "United States of America",
			 "replace":"United States"
			}
	]
}
```

The `Comment` property provides a method of describing the justification for implementing the specific processing instruction. The `active` field is set to `true` by default. Setting it to `false` will cause `scrub.py` to ignore the processing instruction. The `Comment` and `active` properties are optional.

###Important:
*Quotation marks (especially in the `comment` value) must be escaped using `\"`.

*The `find` and `replace` values acept regex strings (without delimiters).

##Stop Words
If an iteration is added with the form below, `scrub.py` will read in the file configured in the `stopwords_location` value.

```json
{
"values": "stopwords"
}
```

It is typically best to strip stop words in the final iteration. Stop word lists should be plain text files with stop words separated by commas, spaces, or line breaks.

##Creating Temporary Working Folders
Temporary working folders contain configuration files and stop word lists used for individual projects. They may be shared on GitHub but are merged with the main WE1S project files in the Scrub directory.

Working Folders should be named with the creator's last name followed by first initial (i.e. `SmithJ`). If this leads to duplication, the first name may be expanded. If a user has multiple subsets of configuration files, each one may go in a separate folder named in date format (i.e. `YYYY-MM-DD`), expanded with other identifying information if necessary. When using files in working directories locally, keep in mind that `scrub.py` will not be able to read them unless it is placed in the same folder.

Working folders to be shared on GitHub should be placed in the `we1s-scripts/Scrub/Working` directory.
